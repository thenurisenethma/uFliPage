<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uFlip - Flip through the plots</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
    .hero>h2{
        color: #00735BFF;
    }
</style>
</head>
<body>
<!---------------------------------------------------------->
<!--                ------Header------                  -->
<header class="header">
    <div class="container">
        <div class="header-content">
            <div class="logo" onclick="showHome()">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                </svg>
                <h1>uFliPage</h1>
            </div>

            <nav class="nav">
                <button class="nav-btn active" id="home-btn" onclick="showHome()">Browse Books</button>
                <button class="nav-btn" id="writer-btn" onclick="showWriter()" style="display: none;">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
                    </svg>
                    Write
                </button>
            </nav>

            <div class="auth-section">
                <div class="user-info" id="user-info" style="display: none;">
                    <div class="user-avatar">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </div>
                    <span class="user-name" id="user-name"></span>
                    <button class="logout-btn" onclick="logout()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16,17 21,12 16,7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                    </button>
                </div>
                <button class="sign-in-btn" id="sign-in-btn" onclick="showAuth()">Sign In</button>
            </div>
        </div>
    </div>
</header>

<!---------------------------------------------------------->
<!-- Main Content -->
<main class="main">
    <!-- Home View -->
    <div id="home-view" class="view active">
        <div class="container">
            <div class="hero">
                <h2>Discover Amazing Stories</h2>
                <p>Explore a curated collection of books from talented writers around the world. Start your next literary adventure today.</p>
            </div>

            <div class="book-grid" id="book-grid">
                <!-- Books will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!---------------------------------------------------------->
    <!-- Reader View -->
    <div id="reader-view" class="view reader-view">
        <div class="reader-progress">
            <div class="progress-bar" id="progress-bar"></div>
        </div>

        <div class="reader-header">
            <div class="reader-controls">
                <button class="reader-btn" onclick="closeReader()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <polyline points="15,18 9,12 15,6"></polyline>
                    </svg>
                </button>
                <div class="book-info">
                    <svg class="book-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                    </svg>
                    <span id="reader-title">Book Title</span>
                </div>
            </div>

            <div class="reader-settings">
                <button class="reader-btn" onclick="decreaseFontSize()">A-</button>
                <button class="reader-btn" onclick="increaseFontSize()">A+</button>
                <button class="reader-btn" onclick="resetProgress()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <polyline points="1,4 1,10 7,10"></polyline>
                        <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
                    </svg>
                </button>
                <button class="reader-btn" onclick="toggleDarkMode()">
                    <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                    <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" style="display: none;">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
            </div>
        </div>

        <div class="reader-content" id="reader-content">
            <div class="book-header">
                <h1 class="book-title">Book Title</h1>
                <p class="book-author">by <span id="book-author">Author Name</span></p>
                <p class="book-meta">
                    Published <span id="book-date">Date</span> • <span id="book-time">Time</span> read
                </p>
                <button class="favorite-btn" data-book-id="1">❤️ Favorite</button>

            </div>

            <div class="book-text" id="book-text">
                <!-- Book content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!---------------------------------------------------------->
    <!-- Writer Dashboard -->
    <div id="writer-view" class="view">
        <div class="container">
            <div class="writer-header">
                <div>
                    <h1>Writer's Dashboard</h1>
                    <p id="writer-welcome">Welcome! Ready to share your next story?</p>
                </div>

                <button id="add-book-btn" class="add-book-btn" onclick="showAddBookForm()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    New Book
                </button>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-content">
                        <div>
                            <p class="stat-label">Published Books</p>
                            <p class="stat-value" id="books-count">0</p>
                        </div>
                        <svg class="stat-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                        </svg>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-content">
                        <div>
                            <p class="stat-label">Total Readers</p>
<!--                            <p class="stat-value" id="readers-count">0</p>-->
                        </div>
                        <svg class="stat-icon green" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-content">
                        <div>
                            <p class="stat-label">This Month</p>
<!--                            <p class="stat-value" id="monthly-count">0</p>-->
                        </div>
                        <svg class="stat-icon purple" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="writer-books">
                <div class="section-header">
                    <h2>Your Books</h2>
                </div>
                <div class="books-list" id="writer-books-list">
                    <div class="empty-state" id="empty-books">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                        </svg>
                        <h3>No books yet</h3>
                        <p>Start writing your first book to share with readers!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!---------------------------------------------------------->
    <!-- Auth Required View -->
    <div id="auth-required-view" class="view">
        <div class="container">
            <div class="auth-required">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
                </svg>
                <h2>Writer's Dashboard</h2>
                <p>Sign in to start publishing your stories and connect with readers worldwide.</p>
                <button class="cta-btn" onclick="showAuth()">Sign In to Write</button>
            </div>
        </div>
    </div>
</main>


<!---------------------------------------------------------->
<!-- Auth Modal -->
<div id="auth-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <div class="modal-title">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                </svg>
                <h2 id="auth-title">Welcome Back</h2>
            </div>
            <button class="close-btn" onclick="closeAuth()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>

        <form id="auth-form" class="auth-form">
            <div class="user-type-selection" id="user-type-selection" style="display: none;">
                <label>I want to...</label>
                <div class="type-buttons">
                    <button type="button" class="type-btn active" data-type="reader">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        Read Books
                    </button>
                    <button type="button" class="type-btn" data-type="writer">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
                        </svg>
                        Write Books
                    </button>
                </div>
            </div>

            <div class="form-group" id="name-group" style="display: none;">
                <label>Full Name</label>
                <div class="input-wrapper">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    <input type="text" id="name" placeholder="Enter your name" required>
                </div>
            </div>

            <div class="form-group">
                <label>Email</label>
                <div class="input-wrapper">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                    <input type="email" id="email" placeholder="Enter your email" required>
                </div>
            </div>

            <div class="form-group">
                <label>Password</label>
                <div class="input-wrapper">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                        <circle cx="12" cy="16" r="1"></circle>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                    </svg>
                    <input type="password" id="password" placeholder="Enter your password" required>
                </div>
            </div>

            <button type="submit" class="submit-btn" id="submit-btn">Sign In</button>

            <div class="auth-switch">
                <button type="button" id="auth-switch-btn" onclick="toggleAuthMode()">
                    Don't have an account? Sign up
                </button>
            </div>
        </form>
    </div>
</div>


<!---------------------------------------------------------->
<!-- Add Book Modal -->
<div id="add-book-modal" class="modal">
    <div class="modal-content large">
        <div class="modal-header">
            <div class="modal-title">
                <h2>Publish a New Book</h2>
                <p>Share your story with the world</p>
            </div>
            <button class="close-btn" onclick="closeAddBookForm()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>

        <form id="add-book-form" class="add-book-form">
            <div class="form-group">
                <label>Book Title</label>
                <input type="text" id="input-book-title" class="book-title" placeholder="Enter your book title" required>

            </div>

            <div class="form-group">
                <label>Description</label>
                <textarea id="book-description" placeholder="Brief description of your book" required></textarea>
            </div>

            <div class="form-group">
                <label>Category</label>
                <select id="book-category" required>
                    <option value="Fiction">Fiction</option>
                    <option value="Non-Fiction">Non-Fiction</option>
                    <option value="Mystery">Mystery</option>
                    <option value="Romance">Romance</option>
                    <option value="Sci-Fi">Science Fiction</option>
                    <option value="Fantasy">Fantasy</option>
                    <option value="Biography">Biography</option>
                </select>
            </div>

            <div class="form-group">
                <label>Cover Image URL (optional)</label>
                <input type="url" id="book-cover" placeholder="https://example.com/cover.jpg">
            </div>

            <div class="form-group">
                <label>Book Content</label>
                <textarea id="book-content" placeholder="Write your book content here..." required></textarea>
            </div>

            <div class="form-actions">
                <button type="button" class="cancel-btn" onclick="closeAddBookForm()">Cancel</button>
                <button type="submit" class="publish-btn">Publish Book</button>
            </div>
        </form>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<script src="js/config.js"></script>
<script src="js/data.js"></script>
<script src="js/auth.js"></script>
<script src="js/books.js"></script>
<script src="js/reader.js"></script>
<script src="js/app.js"></script>
</body>
</html>